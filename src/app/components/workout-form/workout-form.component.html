<div class="container">
  <div class="header">
    <h1 class="title">新規ワークアウト登録</h1>
    <p class="subtitle">トレーニングの記録を入力してください。</p>
  </div>

  @for (exercise of exercises; track $index) {
  <div class="exercise-card">
    @if (exercises.length > 1) {
    <button (click)="removeExercise($index)" class="remove-button">✕</button>
    }

    <div class="form-group">
      <div class="form-group">
        <label class="form-label"> 種目名 </label>
        <input
          type="text"
          [(ngModel)]="exercise.name"
          class="form-input"
          placeholder="ベンチプレス"
        />
      </div>

      <div class="form-group">
        <h3 class="form-label">セット</h3>
        <div class="sets-container">
          @for (set of exercise.sets; track $index) {
          <div class="set-card">
            <div class="form-group">
              <label class="form-label"> 重量 (kg) </label>
              <input
                type="number"
                [(ngModel)]="set.weight"
                class="form-input"
              />
            </div>
            <div class="form-group">
              <label class="form-label"> 回数 </label>
              <input type="number" [(ngModel)]="set.reps" class="form-input" />
            </div>
          </div>
          }
        </div>
      </div>

      <button (click)="addSet($index)" class="button button-secondary">
        セット追加
      </button>
    </div>
  </div>
  }

  <div class="button-group">
    <button (click)="addExercise()" class="button button-primary">
      種目追加
    </button>
    <button (click)="onSubmit()" class="button button-primary">登録</button>
  </div>
</div>
